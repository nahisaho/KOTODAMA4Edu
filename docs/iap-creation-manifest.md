# Interactive Agentic Prompt (IAP) Creation Manifest
# インタラクティブ・エージェンティック・プロンプト作成マニフェスト

> **Version**: 1.1 | **Created**: 2025-12-22 | **Updated**: 2025-12-22 | **Language**: 日本語/English

---

## 📋 目次

1. [概要](#概要)
2. [IAP設計原則](#iap設計原則)
3. [5フェーズアーキテクチャ](#5フェーズアーキテクチャ)
4. [テンプレート構造仕様](#テンプレート構造仕様)
5. [対話フロー制御仕様](#対話フロー制御仕様) 🆕
6. [理論・フレームワーク統合ガイド](#理論フレームワーク統合ガイド)
7. [分野別適用ガイドライン](#分野別適用ガイドライン)
8. [既存プロンプトのIAP化ガイド](#既存プロンプトのiap化ガイド)
9. [品質チェックリスト](#品質チェックリスト)
10. [作成ワークフロー](#作成ワークフロー)
11. [ファイル命名規則](#ファイル命名規則)
12. [サンプル分野リスト](#サンプル分野リスト)

---

## 概要

### Interactive Agentic Prompt (IAP) とは

**Interactive Agentic Prompt**は、AIが能動的に対話を主導し、段階的に文脈を収集しながら、理論・フレームワークに基づいた専門的な提案を生成するためのプロンプト設計手法です。

### 3つの革新ポイント

| 特徴 | 説明 | 従来との違い |
|------|------|-------------|
| **Interactive（対話的）** | AIが一問一答形式で能動的に質問を投げかける | ユーザーが事前に情報を整理する必要がない |
| **Agentic（エージェント的）** | AIが自律的に判断し、最適な理論・手法を選択 | 固定的な応答ではなく、文脈に応じた提案 |
| **Prompt（プロンプト）** | 再利用可能な設計パターンとして体系化 | 専門家の知見を構造化して再現可能に |

### 本マニフェストの目的

このマニフェストは、**教育以外の様々な分野**でInteractive Agentic Promptを作成するための設計指針です。

---

## IAP設計原則

### 原則1: 一問一答（One Question at a Time）

**人間の認知負荷を考慮した対話設計**

```
❌ 悪い例：
「以下の質問にお答えください。
1. 業種は何ですか？
2. 従業員数は？
3. 課題は何ですか？
4. 予算は？
5. 期限は？」

✅ 良い例：
「まずは、今お考えになっていることを自由にお話しください。
どのような状況で、何を実現したいとお考えですか？」
```

**理由**:
- ワーキングメモリの限界（約4チャンク）を超えない
- 各質問に対して深い思考ができる
- 自然な対話の流れを維持

---

### 原則2: 真の目的の発見（Discovery First）

**表面的な要望の背後にある本質的ニーズを発見する**

```
表面的な要望: 「売上を上げたい」
↓ 深掘り
真の目的: 「既存顧客との関係を強化し、持続可能な成長基盤を作りたい」
```

**深掘りの3レベル**:
1. **Level 1**: 表面的目的の確認（何をしたいか）
2. **Level 2**: 背景コンテキストの探索（なぜそう思うか）
3. **Level 3**: 真の目的への到達（最終的に何を実現したいか）

---

### 原則3: 理論・フレームワークに基づく提案

**専門的な根拠のある提案を生成する**

```
❌ 悪い例：
「マーケティングを強化しましょう」

✅ 良い例：
「STPフレームワークに基づき、ターゲットセグメントを
再定義することを提案します。具体的には...」
```

**効果**:
- 提案に説得力が生まれる
- 再現性が高まる
- 専門家としての信頼性を構築

---

### 原則4: コンテキスト依存の適応

**収集した情報に基づいて最適なアプローチを選択**

```yaml
状況A（スタートアップ、少人数）:
  → リーンスタートアップ手法を推奨

状況B（大企業、多部門）:
  → 変革管理フレームワーク（Kotter等）を推奨
```

---

### 原則5: 実行可能な具体性

**抽象的な助言ではなく、即座に実行できる提案**

```
❌ 悪い例：
「コミュニケーションを改善しましょう」

✅ 良い例：
「明日から実施できる3つのアクション：
1. 朝会で〇〇を実施（5分）
2. 週次1on1を設定（30分×人数）
3. Slackチャンネル#〇〇を作成」
```

---

## 5フェーズアーキテクチャ

### 全体フロー

```
[Phase 1: Discovery] → [Phase 2: Context Gathering] → [Phase 3: SKILL Selection] → [Phase 4: Meta-Prompt Generation] → [Phase 5: Response Generation]
```

---

### Phase 1: 真の目的の発見（Discovery Phase）

**目的**: ユーザーの表面的な要望から真のニーズを発見する

#### 構成要素

```markdown
### 初期応答テンプレート
- 温かい歓迎メッセージ
- 自由な発話を促す質問
- 状況と目標を尋ねるオープンクエスチョン

### 深掘り質問フレームワーク
#### Level 1: 表面的目的の確認
- 「〇〇ということですね。具体的にはどのような場面で...」

#### Level 2: 背景コンテキストの探索
- 「その背景には、どのような状況がありますか？」
- 「理想的な状態とは、具体的にどのようなものでしょうか？」

#### Level 3: 真の目的への到達
- 「もしその課題が解決されたとき、どのような変化が起きていますか？」
- 「最終的に、何を実現したいとお考えですか？」
```

---

### Phase 2: コンテキスト収集（Context Gathering Phase）

**目的**: 最適な提案に必要な情報を体系的に収集する

#### 構成要素

```yaml
# 分野共通の収集項目テンプレート
対象者/顧客情報:
  - 特性
  - 規模
  - 前提知識/スキルレベル
  - 特別な配慮事項

環境/組織情報:
  - 組織の種類・規模
  - 利用可能なリソース
  - 時間的・予算的制約
  - 組織文化・ルール

相談者の状況:
  - 経験・専門性
  - 過去に試した方法とその結果
  - 組織的な立場・権限
```

#### 収集質問の設計指針

```markdown
### 質問設計の原則
1. オープンクエスチョンから始める
2. 必要に応じてクローズドクエスチョンで具体化
3. 選択肢を提示して回答負荷を下げる
4. 一度に聞くのは1項目まで

### 質問例のパターン
- 「〇〇について、もう少し教えていただけますか？」
- 「この取り組みに使える時間/予算はどのくらいですか？」
- 「これまでに試されたアプローチはありますか？」
- 「組織として、何か守るべきルールや制約はありますか？」
```

---

### Phase 3: SKILL選択（Framework Selection Phase）

**目的**: 収集したコンテキストに基づき、最適な理論・フレームワークを選択する

#### 構成要素

```markdown
### 理論・フレームワークリポジトリ
分野の主要理論を以下の形式で整理：

| 理論/フレームワーク名 | 提唱者 | 適用場面 | キーコンセプト |
|---------------------|--------|----------|---------------|
| 〇〇理論 | △△ | □□な場面 | キーワード1, キーワード2 |

### 選択ガイドライン
課題タイプ別の推奨アプローチを表形式で整理

| 課題タイプ | 第1推奨 | 第2推奨 | 具体的アプローチ |
|-----------|---------|---------|-----------------|
| 課題A | 理論X | 理論Y | 適用方法の説明 |
```

#### 理論整理のカテゴリ構造

```yaml
理論カテゴリ:
  基礎理論:
    - 分野の根幹となる理論
    - 学術的に確立された概念
  
  実践フレームワーク:
    - 現場で使用される手法
    - 具体的なステップを含む
  
  評価・分析ツール:
    - アセスメント手法
    - 診断フレームワーク
  
  コミュニケーション手法:
    - 対話・面談技法
    - 関係構築の手法
```

---

### Phase 4: メタプロンプト生成（Meta-Prompt Generation Phase）

**目的**: 収集した情報と選択した理論を統合し、専門家としての指示を生成する

#### 構成要素

```markdown
## 生成されたメタプロンプト

### コンテキストサマリー
[収集した情報の要約]
- 対象者情報: [要約]
- 環境情報: [要約]
- 制約条件: [要約]

### 特定された真の目的
[対話から発見された本質的な目標]

### 選択されたSKILL
- 主要理論: [選択した理論名]
- 補助フレームワーク: [支援的なフレームワーク]
- 選択理由: [なぜこれらが最適か]

### アプローチの方向性
[理論に基づいた具体的なアプローチの骨子]

### 実行プロンプト
あなたは[選択した理論]に精通した[分野]専門家です。
以下のコンテキストに基づき、[真の目的]を達成するための
具体的な提案を作成してください。

[詳細なコンテキスト情報]
[適用する理論の原則]
[期待するアウトプット形式]
```

---

### Phase 5: 応答生成（Response Generation Phase）

**目的**: 構造化された高品質な提案を出力する

#### 出力構成テンプレート

```markdown
### 1. 要約と確認
- 対話から理解した内容の要約
- 真の目的の言語化

### 2. 理論的基盤の説明
- なぜこのアプローチを選んだか
- 適用する理論の簡潔な説明

### 3. 具体的な提案
- 戦略/アクションプラン
- 実施ステップ
- 必要なリソース

### 4. 実践上の考慮点
- 潜在的な課題と対策
- 成功指標（KPI）

### 5. 次のステップ
- 即座に取り組めるアクション
- 中長期的な展開計画
- 参考リソース
```

---

## テンプレート構造仕様

### ファイル構造

```markdown
# Interactive Agentic Prompt for [Role Name]
# [日本語役職名]向けインタラクティブ・エージェンティック・プロンプト

> **Version**: 1.0 | **Last Updated**: YYYY-MM-DD | **Language**: 日本語

---

## 関連テンプレート
[関連する他のテンプレートへのリンク]

---

## System Prompt
[AIの役割定義 - 1-2文で簡潔に]

---

## Phase 1: 真の目的の発見（Discovery Phase）
[初期応答テンプレート + 深掘り質問フレームワーク]

---

## Phase 2: コンテキスト収集（Context Gathering Phase）
[必須収集項目 + コンテキスト収集質問例]

---

## Phase 3: SKILL選択（[Domain] Framework Selection）
[理論・フレームワークリポジトリ + 選択ガイドライン]

---

## Phase 4: メタプロンプト生成（Meta-Prompt Generation）
[メタプロンプト構造テンプレート]

---

## Phase 5: 応答生成（Response Generation）
[出力構成 + 品質基準]

---

## 対話フロー制御
[状態遷移 + 1問1答の原則 + 進行判断基準]

---

## 使用例
[2-4個の具体的な対話シナリオ]

---

## AIモデル別適用ガイド
[ChatGPT/Claude/Gemini/Microsoft 365 Copilot向け設定]

---

## 回答品質強化セクション
[思考チェーン + 出力品質チェックリスト + エラー回復プロンプト]

---

## 付録
[クイックリファレンス、用語集等]

---

## 変更履歴
[バージョン管理テーブル]
```

---

## 対話フロー制御仕様

「対話フロー制御」は、IAPの5フェーズを適切に制御し、一貫した対話品質を確保するための重要なセクションです。すべてのIAPテンプレートにこのセクションを**必須**として含める必要があります。

### セクション構成

対話フロー制御セクションは、以下の3つのサブセクションで構成されます：

```markdown
## 対話フロー制御

### 状態遷移
[状態遷移図]

### 1問1答の原則
[対話ルールとフェーズ完了条件]

### 例外処理
[緊急ケース対応と特別な配慮]
```

---

### 状態遷移（必須）

5フェーズの流れを視覚的に表現する状態遷移図を記述します。

#### 標準フォーマット

```
[開始] → Phase1(発見) → Phase2(文脈収集) → Phase3(SKILL選択) → Phase4(メタプロンプト生成) → Phase5(応答生成) → [終了]
                ↑                                                                                           |
                └───────────────────────────────────────────────────────────────────────────────────────────┘
                                                    (新しい相談)
```

#### 記述のポイント

- ASCIIアートでシンプルに表現
- 循環構造（新しい相談への遷移）を明示
- 必要に応じて分岐条件を追加可能

---

### 1問1答の原則（必須）

YAML形式で対話ルールとフェーズ完了条件を定義します。

#### 標準フォーマット

```yaml
対話ルール:
  基本原則: "1回の応答で1つの質問のみ"
  質問形式: "具体的かつ明確な問いかけ"
  待機姿勢: "ユーザーの応答を必ず待つ"
  
フェーズ完了条件:
  Phase1: 
    - 主訴が明確に特定された
    - [分野固有]のカテゴリが把握された
  Phase2:
    - [必須項目1]が把握された
    - [必須項目2]が確認された
    - [必須項目3]が把握された
    - 緊急性の有無が判断された
  Phase3:
    - 適用する[分野]理論・手法が選択された
    - [役割]の介入レベルが決定された
  Phase4:
    - [成果物]の骨子が構築された
    - 必要な連携体制が整理された
  Phase5:
    - 具体的な[アクション]ステップが提示された
    - [評価方法]が明示された
```

#### カスタマイズのガイドライン

| 項目 | カスタマイズ方法 |
|------|------------------|
| `[分野固有]` | 役職・分野に応じたカテゴリ（例：授業づくり、生徒指導、福祉支援等） |
| `[必須項目]` | Phase 2で収集する具体的情報 |
| `[役割]` | テンプレートの対象役職名 |
| `[成果物]` | 最終的に生成する提案・計画の種類 |
| `[アクション]` | 実行ステップの種類（指導、支援、対応等） |
| `[評価方法]` | フォローアップや評価の方法 |

---

### 例外処理（必須）

YAML形式で緊急ケースと特別な配慮が必要な状況への対応を定義します。

#### 標準フォーマット

```yaml
緊急ケース対応:
  トリガー: 
    - [緊急状況1]
    - [緊急状況2]
    - [緊急状況3]
  アクション:
    - [即座に行うべき対応1]
    - [即座に行うべき対応2]
    - [即座に行うべき対応3]
    
[特別な配慮カテゴリ]:
  トリガー:
    - [特別な状況1]
    - [特別な状況2]
  アクション:
    - [対応方法1]
    - [対応方法2]
    - [対応方法3]
```

#### 分野別の例外処理パターン

| 分野 | 緊急ケース例 | 特別配慮例 |
|------|-------------|------------|
| 教育（学校現場） | いじめ、虐待疑い、自殺念慮 | 発達障害、外国籍児童 |
| 教育（行政） | 重大事態、報道対応 | 政策調整、予算確保 |
| 医療 | 急変、アナフィラキシー | 宗教的配慮、終末期 |
| ビジネス | コンプライアンス違反、情報漏洩 | 組織文化、予算制約 |
| 法務 | 法的リスク、訴訟 | 機密保持、利益相反 |

---

### 完全な記述例

以下は教育分野（教員向け）の対話フロー制御セクションの完全な例です：

```markdown
## 対話フロー制御

### 状態遷移

```
[開始] → Phase1(発見) → Phase2(文脈収集) → Phase3(SKILL選択) → Phase4(メタプロンプト生成) → Phase5(応答生成) → [終了]
                ↑                                                                                           |
                └───────────────────────────────────────────────────────────────────────────────────────────┘
                                                    (新しい相談)
```

### 1問1答の原則

```yaml
対話ルール:
  基本原則: "1回の応答で1つの質問のみ"
  質問形式: "具体的かつ明確な問いかけ"
  待機姿勢: "ユーザーの応答を必ず待つ"
  
フェーズ完了条件:
  Phase1: 
    - 主訴が明確に特定された
    - 教育実践のカテゴリ（授業、学級経営、生徒指導等）が把握された
  Phase2:
    - 対象児童生徒の学年・状況が把握された
    - 教科・単元・題材が確認された
    - 学校環境・利用可能リソースが把握された
    - 緊急性の有無が判断された
  Phase3:
    - 適用する教育理論・指導法が選択された
    - 教員の介入レベルが決定された
  Phase4:
    - 指導計画の骨子が構築された
    - 必要な支援体制が整理された
  Phase5:
    - 具体的な指導ステップが提示された
    - 評価方法が明示された
```

### 例外処理

```yaml
緊急ケース対応:
  トリガー: 
    - いじめの疑いが強い場合
    - 虐待の疑いがある場合
    - 自殺念慮・自傷行為の兆候がある場合
  アクション:
    - 即座に管理職への報告を促す
    - SC・SSWとの連携を提案
    - 必要に応じて関係機関への通告を支援
    
特別な配慮:
  トリガー:
    - 特別な支援を要する児童生徒への対応
    - 外国につながる児童生徒への対応
  アクション:
    - 特別支援コーディネーターとの連携を促す
    - 合理的配慮の提供方法を提案
    - 多言語対応・やさしい日本語の活用を支援
```
```

---

### 準拠性チェック

テンプレート作成時に以下を確認してください：

```yaml
対話フロー制御チェックリスト:
  □ 「## 対話フロー制御」セクションが存在する
  □ 「### 状態遷移」サブセクションがある
  □ 状態遷移図がASCII形式で記述されている
  □ 「### 1問1答の原則」サブセクションがある
  □ 対話ルールがYAML形式で記述されている
  □ Phase1〜Phase5の完了条件が定義されている
  □ 「### 例外処理」サブセクションがある
  □ 緊急ケース対応がYAML形式で定義されている
  □ 分野固有の特別配慮が定義されている
  □ 内容が対象役職に適切にカスタマイズされている
```

---

## 理論・フレームワーク統合ガイド

### 理論収集の手順

```yaml
Step 1: 分野の学術文献調査
  - 主要なテキストブック
  - 学術論文（レビュー論文を優先）
  - 専門家協会のガイドライン

Step 2: 実務者インタビュー
  - 現場で実際に使われている手法
  - 成功事例で適用された理論

Step 3: カテゴリ分類
  - 基礎理論 vs 実践フレームワーク
  - 適用場面別の整理
  - 難易度・前提条件による分類

Step 4: 選択ガイドライン作成
  - 課題タイプ別の推奨マッピング
  - 組み合わせパターンの定義
```

### 理論記述のフォーマット

```markdown
#### [理論カテゴリ名]

##### [サブカテゴリ名]
| 理論/フレームワーク | 提唱者 | 適用場面 | キーコンセプト |
|-------------------|--------|----------|---------------|
| [名称] | [人名, 年] | [どんな時に使う] | [重要概念] |

**詳細説明**（必要に応じて）:
- 理論の概要
- 主要な構成要素
- 適用時の注意点
```

### 分野別理論例

#### ビジネス・経営分野
```yaml
戦略フレームワーク:
  - SWOT分析
  - ポーターの5フォース
  - バリューチェーン
  - ブルーオーシャン戦略

組織・マネジメント:
  - 変革の8段階（Kotter）
  - 学習する組織（Senge）
  - 心理的安全性（Edmondson）

マーケティング:
  - STP（Segmentation, Targeting, Positioning）
  - 4P/7P
  - カスタマージャーニー
```

#### 医療・ヘルスケア分野
```yaml
臨床推論:
  - 仮説演繹法
  - パターン認識
  - EBM（Evidence-Based Medicine）

患者コミュニケーション:
  - 動機づけ面接
  - 共有意思決定（SDM）
  - SPIKES（悪い知らせの伝え方）

チーム医療:
  - TeamSTEPPS
  - SBAR
```

#### 法務・コンプライアンス分野
```yaml
法的分析:
  - IRAC（Issue, Rule, Application, Conclusion）
  - リスクアセスメントマトリクス

コンプライアンス:
  - 3線ディフェンスモデル
  - COSO内部統制フレームワーク
```

---

## 分野別適用ガイドライン

### 新分野へのIAP作成手順

```yaml
1. 分野定義:
   - 対象となる専門職/役割の明確化
   - 主な課題領域の特定
   - ステークホルダーの整理

2. ニーズ分析:
   - 典型的な相談内容のリストアップ
   - 表面的ニーズ vs 真のニーズの分析
   - 成功/失敗パターンの把握

3. 理論・フレームワーク調査:
   - 分野の主要理論の収集
   - 実務で使用されるフレームワーク
   - 評価・診断ツール

4. コンテキスト項目設計:
   - 必須収集情報の定義
   - 質問フローの設計
   - 選択肢の準備

5. 使用シナリオ作成:
   - 代表的なケーススタディ
   - 対話例の作成
   - 期待されるアウトプット
```

### 分野固有の考慮事項

```yaml
医療・ヘルスケア:
  - 倫理的配慮（患者の権利、インフォームドコンセント）
  - 法的制約（医療行為の範囲）
  - エビデンスレベルの明示

法務:
  - 法的助言の範囲の明確化
  - 管轄・法域の確認
  - 機密性への配慮

金融:
  - 規制要件（コンプライアンス）
  - リスク開示
  - 投資助言の制限

技術・エンジニアリング:
  - 技術スタックの確認
  - スケーラビリティの考慮
  - セキュリティ要件
```

---

## 既存プロンプトのIAP化ガイド

既存の静的プロンプトをInteractive Agentic Prompt（IAP）に変換するための手順とベストプラクティスです。

### なぜIAP化するのか

| 観点 | 静的プロンプト | IAP化後 |
|------|---------------|---------|
| **情報収集** | ユーザーが事前に全て整理 | AIが段階的に質問 |
| **対応の深さ** | 汎用的・表面的 | 文脈に応じた深い対応 |
| **再現性** | 低い（ユーザー依存） | 高い（構造化された設計） |
| **専門性** | 根拠が不明確 | 理論・フレームワークに基づく |
| **ユーザー体験** | 高い認知負荷 | 自然な対話で負荷軽減 |

---

### Step 1: 既存プロンプトの分析

#### 1.1 プロンプトの構成要素を特定

既存プロンプトから以下の要素を抽出します：

```yaml
分析項目:
  役割定義:
    - AIに与えられている役割は何か
    - どの分野・専門性を想定しているか
  
  前提条件:
    - 暗黙的に想定している情報は何か
    - ユーザーに求めている入力は何か
  
  出力形式:
    - どのような形式で出力を期待しているか
    - 構造化されているか
  
  専門知識:
    - どのような専門知識を活用しているか
    - 理論・フレームワークへの言及はあるか
```

#### 1.2 分析テンプレート

```markdown
## 既存プロンプト分析シート

### 基本情報
- プロンプト名: 
- 対象ユーザー: 
- 主な用途: 

### 構成要素の抽出

#### 役割定義
- 現在の役割: 
- 想定される専門分野: 

#### 前提条件（暗黙の想定）
1. 
2. 
3. 

#### 期待される入力
1. 
2. 
3. 

#### 出力形式
- 形式: 
- 構造: 

#### 使用されている専門知識
1. 
2. 

### IAP化の方針
- 強化すべき点: 
- 追加すべき理論: 
- 収集すべきコンテキスト: 
```

---

### Step 2: 5フェーズへの再構成

#### 2.1 Phase 1（Discovery）の設計

**既存プロンプトの「入力要求」を「対話的発見」に変換**

```
【変換前】静的プロンプト
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
あなたはマーケティング専門家です。
以下の情報を提供してください：
- 商品名
- ターゲット顧客
- 予算
- 期間
これらの情報に基づいてマーケティング戦略を提案してください。

【変換後】IAP Phase 1
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
### 初期応答テンプレート
「ようこそ！マーケティングに関するお悩みやご相談をお聞かせください。
まずは、今お考えになっていることを自由にお話しください。
どのような状況で、何を実現したいとお考えですか？」

### 深掘り質問フレームワーク
Level 1: 「〇〇ということですね。具体的にはどのような課題を感じていますか？」
Level 2: 「その背景には、どのような市場環境がありますか？」
Level 3: 「最終的に、どのような成果を目指していますか？」
```

#### 2.2 Phase 2（Context Gathering）の設計

**既存プロンプトの「必須入力」を「段階的収集項目」に変換**

```yaml
【変換前】一括入力
- 商品名、ターゲット、予算、期間を一度に要求

【変換後】段階的収集
対象商品/サービス情報:
  - 商品/サービスの概要
  - 現在の市場ポジション
  - 差別化ポイント

ターゲット情報:
  - 想定顧客層
  - 顧客のペインポイント
  - 購買行動の特徴

制約条件:
  - 予算規模
  - 時間的制約
  - 組織的制約

過去の取り組み:
  - これまでの施策と結果
  - 成功/失敗の要因分析
```

#### 2.3 Phase 3（SKILL Selection）の設計

**既存プロンプトに「理論・フレームワーク」を追加**

```markdown
【変換前】理論なし
「マーケティング戦略を提案してください」

【変換後】理論に基づく選択
### マーケティング理論・フレームワークリポジトリ

#### 戦略フレームワーク
| 理論 | 適用場面 | キーコンセプト |
|------|----------|---------------|
| STP | ターゲット明確化 | Segmentation, Targeting, Positioning |
| 4P/7P | マーケティングミックス | Product, Price, Place, Promotion |
| AIDMA | 購買プロセス設計 | 認知→興味→欲求→記憶→行動 |

#### 選択ガイドライン
| 課題タイプ | 推奨フレームワーク |
|-----------|-------------------|
| 新規参入 | STP + ブルーオーシャン |
| 売上低下 | 4P分析 + カスタマージャーニー |
| 認知度向上 | AIDMA + コンテンツ戦略 |
```

#### 2.4 Phase 4-5の設計

**既存プロンプトの「出力」を「構造化された応答」に変換**

```markdown
【変換前】非構造化出力
「マーケティング戦略を提案してください」

【変換後】構造化出力
### 出力構成
1. 要約と確認
   - 理解した課題の要約
   - 特定された真の目的

2. 理論的基盤
   - 選択したフレームワーク
   - 選択理由

3. 具体的な提案
   - 戦略の骨子
   - アクションプラン
   - タイムライン

4. 実践上の考慮点
   - リスクと対策
   - KPI設定

5. 次のステップ
   - 即座に取り組めること
   - フォローアップ計画
```

---

### Step 3: 理論・フレームワークの追加

#### 3.1 理論収集のアプローチ

```yaml
方法1: 分野の教科書から抽出
  - 入門書の目次を参照
  - 主要理論をリストアップ

方法2: 実務ガイドラインから抽出
  - 業界団体のガイドライン
  - ベストプラクティス集

方法3: AIに質問して収集
  プロンプト例: |
    「[分野名]の主要な理論・フレームワークを
    以下の形式でリストアップしてください：
    - 理論名
    - 提唱者
    - 適用場面
    - キーコンセプト」

方法4: 専門家へのヒアリング
  - 実務で使用している手法
  - 効果的だった理論
```

#### 3.2 理論整理のテンプレート

```markdown
#### [カテゴリ名]

| 理論/フレームワーク | 提唱者 | 適用場面 | キーコンセプト |
|-------------------|--------|----------|---------------|
| | | | |
| | | | |

**選択ガイドライン**:
- 課題Aの場合 → 理論X
- 課題Bの場合 → 理論Y
- 課題Cの場合 → 理論Z
```

---

### Step 4: 対話フローの設計

#### 4.1 質問の変換パターン

```yaml
パターン1: 一括質問 → 段階的質問
  Before: "商品名、ターゲット、予算を教えてください"
  After:
    Q1: "まず、対象となる商品について教えてください"
    Q2: "どのような顧客層を想定されていますか？"
    Q3: "予算や時間の制約はありますか？"

パターン2: クローズド → オープン → クローズド
  Before: "予算は100万円以上ですか？"
  After:
    Q1: "この取り組みにどの程度のリソースを想定されていますか？"（オープン）
    Q2: "具体的な予算レンジとしては、A/B/Cのどれに近いですか？"（クローズド）

パターン3: 情報要求 → 理解確認
  Before: "ターゲット顧客を教えてください"
  After:
    Q1: "どのような方に届けたいとお考えですか？"
    Q2: "〇〇な方々ということですね。その方々の課題は何だと思われますか？"
```

#### 4.2 フロー制御の設計

```yaml
状態遷移:
  開始 → Phase 1（Discovery）
    条件: 真の目的が明確になった
  → Phase 2（Context Gathering）
    条件: 必須項目の80%以上収集
  → Phase 3（SKILL Selection）
    条件: 最適な理論が2-3個に絞られた
  → Phase 4（Meta-Prompt Generation）
  → Phase 5（Response Generation）

各フェーズの完了判断:
  Phase 1: ユーザーが「そうです、それが私の目的です」と確認
  Phase 2: 必須収集項目のチェックリストが埋まる
  Phase 3: 課題タイプと推奨理論のマッチングが完了
```

---

### Step 5: 品質強化セクションの追加

#### 5.1 思考チェーンの追加

```markdown
【内部思考プロセス】
1. 問題の本質分析
   - ユーザーが述べている「表面的な課題」は何か？
   - その背後にある「真の課題」は何か？

2. コンテキストの確認
   - 必要な情報は十分に集まったか？
   - 不足している情報はないか？

3. 理論選択の根拠
   - なぜこの理論/フレームワークが最適か？
   - 代替案は検討したか？

4. 提案の実現可能性
   - リソース（時間、予算、人員）は現実的か？
   - 組織的な制約は考慮されているか？

5. 潜在リスクの検討
   - 想定される障害は何か？
   - 対策は提案に含まれているか？
```

#### 5.2 出力品質チェックリストの追加

```yaml
必須確認項目:
  □ ユーザーの真のニーズに応えているか
  □ 具体的で実行可能な提案になっているか
  □ 理論的根拠が明示されているか
  □ 制約条件が考慮されているか
  □ 次のステップが明確か

分野固有の確認項目:
  □ [分野特有の確認点1]
  □ [分野特有の確認点2]
  □ [分野特有の確認点3]
```

#### 5.3 エラー回復プロンプトの追加

```markdown
【対話が行き詰まった場合】
「いくつかの観点からご相談内容を整理させてください。
今一番お困りなのは、以下のどれに近いですか？
A) [課題タイプ1]
B) [課題タイプ2]
C) [課題タイプ3]
D) その他（具体的に教えてください）」

【情報が不足している場合】
「より適切な提案をするために、もう少し詳しく教えていただけますか？
特に、[不足している情報]について知りたいです。」

【ユーザーが迷っている場合】
「選択肢を整理してみましょう。
現在の状況を考えると、以下の2つのアプローチが考えられます：
1) [アプローチA]: [メリット/デメリット]
2) [アプローチB]: [メリット/デメリット]
どちらの方向性がお考えに近いですか？」
```

---

### IAP化の実例

#### Before: 静的プロンプト

```
あなたは経験豊富なプロジェクトマネージャーです。
以下のプロジェクト情報に基づいて、プロジェクト計画を作成してください。

【入力してください】
- プロジェクト名：
- 目的：
- 期間：
- 予算：
- チームメンバー：
- 主要な成果物：

上記の情報に基づいて、WBS、スケジュール、リスク管理計画を含む
プロジェクト計画書を作成してください。
```

#### After: IAP化されたプロンプト

```markdown
# Interactive Agentic Prompt for Project Manager
# プロジェクトマネージャー向けIAP

## System Prompt
あなたはプロジェクトマネジメントの専門家エージェントです。
プロジェクトに関する課題に対して、対話を通じて真のニーズを発見し、
PMBOKやアジャイル手法に基づいた最適なアプローチを提案します。

## Phase 1: Discovery
### 初期応答
「ようこそ！プロジェクトに関するお悩みやご相談をお聞かせください。
新しいプロジェクトの立ち上げですか？それとも進行中のプロジェクトについてですか？
まずは、今お考えになっていることを自由にお話しください。」

### 深掘り質問
- L1: 「〇〇というプロジェクトですね。どのような成果を目指していますか？」
- L2: 「そのプロジェクトで、特に懸念されている点はありますか？」
- L3: 「このプロジェクトが成功したとき、組織にどのような変化が起きていますか？」

## Phase 2: Context Gathering
### 必須収集項目
プロジェクト情報:
  - 目的・ゴール
  - スコープ
  - 期間・マイルストーン
  
ステークホルダー:
  - スポンサー
  - チーム構成
  - 利害関係者

制約条件:
  - 予算
  - リソース
  - 技術的制約
  
リスク要因:
  - 既知のリスク
  - 過去の類似プロジェクトの教訓

## Phase 3: SKILL Selection
### PMフレームワーク
| フレームワーク | 適用場面 |
|--------------|---------|
| PMBOK | 大規模・複雑なプロジェクト |
| アジャイル/スクラム | 変化が多い・反復開発 |
| PRINCE2 | ガバナンス重視 |
| リーン | 効率化・ムダ削減 |

### 選択ガイドライン
| プロジェクトタイプ | 推奨手法 |
|------------------|---------|
| 新規開発・不確実性高 | アジャイル |
| 建設・製造 | PMBOK/ウォーターフォール |
| 組織変革 | PRINCE2 + 変革管理 |

## Phase 4-5: Meta-Prompt & Response
[構造化された出力テンプレート]

## 使用例
### シナリオ1: 新規プロジェクト立ち上げ
[対話例]

### シナリオ2: 遅延プロジェクトの立て直し
[対話例]
```

---

### IAP化チェックリスト

```yaml
□ Phase 1（Discovery）が追加されている
  □ 初期応答テンプレートがある
  □ 3レベルの深掘り質問がある

□ Phase 2（Context Gathering）が追加されている
  □ 必須収集項目が定義されている
  □ 質問例がある

□ Phase 3（SKILL Selection）が追加されている
  □ 5つ以上の理論/フレームワークがある
  □ 選択ガイドラインがある

□ Phase 4-5が構造化されている
  □ メタプロンプト構造がある
  □ 出力構成が定義されている

□ 品質強化セクションがある
  □ 思考チェーン
  □ 出力品質チェックリスト
  □ エラー回復プロンプト

□ 使用例がある
  □ 2つ以上の対話シナリオ
```

---

## 品質チェックリスト

### 構造チェック

```yaml
□ 5フェーズすべてが含まれている
□ 各フェーズの目的が明確
□ フェーズ間の遷移条件が定義されている
□ System Promptが簡潔で的確
□ 関連テンプレートへのリンクがある
```

### 内容チェック

```yaml
□ 理論・フレームワークが5つ以上含まれている
□ 各理論に適用場面が明記されている
□ 課題タイプ別の推奨アプローチがある
□ 使用例が2つ以上含まれている
□ 具体的な対話例がある
```

### 品質強化チェック

```yaml
□ 思考チェーン（Chain of Thought）プロンプトがある
□ 出力品質チェックリストがある
□ エラー回復プロンプトがある
□ AIモデル別適用ガイドがある
```

### 分野適合性チェック

```yaml
□ 専門用語が適切に使用されている
□ 分野の倫理・法的制約が考慮されている
□ 実務者が実際に使う表現になっている
□ ターゲットユーザーの認知負荷が考慮されている
```

---

## 作成ワークフロー

### ステップバイステップガイド

```
Step 1: 分野・役割の定義（1-2時間）
├── 対象役職の明確化
├── 主な課題領域の特定
└── 成功イメージの定義

Step 2: ニーズ調査（2-4時間）
├── 典型的な相談内容の収集
├── 専門家へのヒアリング
└── 既存資料のレビュー

Step 3: 理論・フレームワーク収集（3-5時間）
├── 学術文献の調査
├── 実務ガイドラインの収集
├── カテゴリ分類と整理
└── 選択ガイドラインの作成

Step 4: コンテキスト項目設計（1-2時間）
├── 必須収集項目の定義
├── 質問フローの設計
└── 質問例の作成

Step 5: テンプレート作成（3-5時間）
├── 5フェーズの執筆
├── 使用例の作成
├── 品質強化セクションの追加
└── AIモデル別ガイドの追加

Step 6: レビュー・改善（1-2時間）
├── 品質チェックリストによる確認
├── 専門家レビュー
└── 修正・改善

合計目安: 10-20時間
```

---

## ファイル命名規則

### 命名パターン

```
[role-name]-interactive-agentic-prompt.md
```

### 規則

```yaml
形式: ケバブケース（kebab-case）
言語: 英語
接尾辞: -interactive-agentic-prompt.md

例:
  - business-consultant-interactive-agentic-prompt.md
  - software-architect-interactive-agentic-prompt.md
  - clinical-nurse-interactive-agentic-prompt.md
  - legal-counsel-interactive-agentic-prompt.md
```

### ディレクトリ構造（分野別プロジェクト）

```
project-name/
├── README.md
├── docs/
│   └── iap-guide.md
├── templates/
│   ├── [role-1]-interactive-agentic-prompt.md
│   ├── [role-2]-interactive-agentic-prompt.md
│   └── ...
└── steering/
    ├── product.md
    └── rules/
        └── constitution.md
```

---

## サンプル分野リスト

以下は、IAPを適用可能な分野の例です。

### ビジネス・経営

```yaml
経営戦略:
  - 経営コンサルタント
  - 事業開発マネージャー
  - 新規事業責任者

人事・組織:
  - 人事マネージャー
  - 組織開発コンサルタント
  - 採用担当者
  - 研修担当者

マーケティング・営業:
  - マーケティングマネージャー
  - 営業マネージャー
  - CRMスペシャリスト
  - ブランドマネージャー

財務・会計:
  - CFO/財務責任者
  - 管理会計担当
  - 投資アナリスト
```

### 医療・ヘルスケア

```yaml
臨床:
  - 看護師
  - 薬剤師
  - 理学療法士
  - 臨床心理士

医療管理:
  - 病院管理者
  - 医療安全管理者
  - 感染管理担当
  - 医療情報管理士

公衆衛生:
  - 保健師
  - 健康増進担当
  - 疫学専門家
```

### IT・テクノロジー

```yaml
開発:
  - ソフトウェアアーキテクト
  - テックリード
  - DevOpsエンジニア
  - セキュリティエンジニア

管理:
  - プロジェクトマネージャー
  - プロダクトマネージャー
  - スクラムマスター
  - CTOアドバイザー

データ:
  - データサイエンティスト
  - データエンジニア
  - BI/アナリティクス担当
```

### 法務・コンプライアンス

```yaml
法務:
  - 法務担当者
  - 契約管理者
  - 知的財産担当

コンプライアンス:
  - コンプライアンスオフィサー
  - 内部監査担当
  - リスク管理担当
  - 個人情報保護担当
```

### クリエイティブ・デザイン

```yaml
デザイン:
  - UXデザイナー
  - UIデザイナー
  - サービスデザイナー
  - デザインマネージャー

コンテンツ:
  - コンテンツストラテジスト
  - コピーライター
  - 動画プロデューサー
```

### 公共・行政

```yaml
行政:
  - 政策立案担当
  - 市民サービス担当
  - 都市計画担当
  - 環境政策担当

NPO・NGO:
  - プログラムマネージャー
  - ファンドレイザー
  - アドボカシー担当
```

---

## 付録A: 汎用テンプレート骨格

以下は、新しい分野のIAPを作成する際のスターターテンプレートです。

```markdown
# Interactive Agentic Prompt for [Role Name]
# [日本語役職名]向けインタラクティブ・エージェンティック・プロンプト

> **Version**: 1.0 | **Last Updated**: YYYY-MM-DD | **Language**: 日本語

---

## 関連テンプレート

- [関連テンプレート1](link) - 簡潔な説明
- [関連テンプレート2](link) - 簡潔な説明

---

## System Prompt

あなたは[分野]の専門家エージェントです。[対象ユーザー]が抱える課題に対して、対話を通じて真のニーズを発見し、[分野]に特化した理論・フレームワークに基づいた最適なアプローチを提案します。

---

## Phase 1: 真の目的の発見（Discovery Phase）

### 初期応答テンプレート

「ようこそ！[分野]に関するお悩みやご相談をお聞かせください。

まずは、今お考えになっていることを自由にお話しください。
どのような状況で、何を実現したいとお考えですか？」

### 深掘り質問フレームワーク

[分野固有の深掘り質問を3レベルで記述]

---

## Phase 2: コンテキスト収集（Context Gathering Phase）

### 必須収集項目

```yaml
[対象者/顧客情報]:
  - 項目1
  - 項目2

[環境/組織情報]:
  - 項目1
  - 項目2

[相談者の状況]:
  - 項目1
  - 項目2
```

### コンテキスト収集質問例

[分野固有の質問例を5-10個記述]

---

## Phase 3: SKILL選択（[Domain] Framework Selection）

### [分野]理論・フレームワークリポジトリ

[カテゴリ別に理論・フレームワークを整理]

#### [カテゴリ1]
| 理論/フレームワーク | 提唱者 | 適用場面 | キーコンセプト |
|-------------------|--------|----------|---------------|
| | | | |

### 選択ガイドライン

| 課題タイプ | 第1推奨 | 第2推奨 | 具体的アプローチ |
|-----------|---------|---------|-----------------|
| | | | |

---

## Phase 4: メタプロンプト生成（Meta-Prompt Generation）

[Phase 4のテンプレート構造]

---

## Phase 5: 応答生成（Response Generation）

### 出力構成

[5つの出力セクションを記述]

---

## 対話フロー制御

### 状態遷移

[フロー図を記述]

### 1問1答の原則

[対話ルールを記述]

---

## 使用例

### シナリオ1: [典型的なケース]

[対話例を記述]

### シナリオ2: [別のケース]

[対話例を記述]

---

## AIモデル別適用ガイド

### ChatGPT（GPT-4/GPT-4o）での使用
[設定方法]

### Claude（Claude 3.5/Claude 3）での使用
[設定方法]

### Gemini（Gemini Pro/Ultra）での使用
[設定方法]

### Microsoft 365 Copilot での使用
[設定方法]

---

## 回答品質強化セクション

### 思考チェーン（Chain of Thought）プロンプト

[内部思考プロセスを記述]

### 出力品質チェックリスト

[チェック項目を記述]

### エラー回復プロンプト

[回復手順を記述]

---

## 付録: クイックリファレンス

[分野のキーワード集、年間スケジュール等]

---

## 変更履歴

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | YYYY-MM-DD | 初版作成 |
```

---

## 付録B: 参考リソース

### KOTODAMA プロジェクト
- [Interactive Agentic Prompt 完全ガイド](https://qiita.com/hisaho/items/33f3a7ee04517a1b10bf)
- [教育分野テンプレート集](../templates/)

### 推奨文献
- Miller, G. A. (1956). The magical number seven, plus or minus two
- Cowan, N. (2001). The magical number 4 in short-term memory
- 各分野の専門テキスト・ガイドライン
